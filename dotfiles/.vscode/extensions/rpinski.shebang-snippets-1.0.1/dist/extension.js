(()=>{"use strict";var e={35:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(398);t.default=class{channel;dateTimeFormat;constructor(){this.channel=a.window.createOutputChannel("Shebang Snippets"),this.dateTimeFormat=new Intl.DateTimeFormat("en",{hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}writeLine(e){this.channel.appendLine(`[${this.dateTimeFormat.format(Date.now())}] ${e}`)}}},650:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createShebangCompletionItems=function(e,t,n,a){if("Shebang"===e.type)return[c("/usr/bin/",e,t,n,a),c(e.executable.includes(" ")?"/usr/bin/env -S ":"/usr/bin/env ",e,t,n,a)]},t.createMagicCommentCompletionItem=function(e,t,n,a){if("MagicComment"===e.type){const t=new o.CompletionItem("-*- coding: ...");return t.insertText=new o.SnippetString((n?"":"#")+" -*- coding: ${1|utf-8,latin-1,ascii|} -*-"),t.documentation=e.description,t.kind=o.CompletionItemKind.Snippet,[t]}};const o=i(n(398)),s=n(264);function c(e,t,n,a,r){const i=`#!${e}${t.executable}`,c=new o.CompletionItem(i);return c.insertText=new o.SnippetString(i.substring(a?1:0)),c.documentation=t.description,c.kind=o.CompletionItemKind.Snippet,c.sortText=r?.(t,e)?.toString().padStart(5,"0"),t.language&&(c.command={command:s.HANDLE_SNIPPET_COMPLETION_COMMAND,title:s.HANDLE_SNIPPET_COMPLETION_COMMAND,arguments:[n,t,e]}),c}},687:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.registerShebangCompletionProviders=function(e){return Object.entries(s.languages).map((([t,n])=>function(e,t,n){return o.languages.registerCompletionItemProvider(t,{async provideCompletionItems(t,a,r,i){if(a.character<=1){const r=1===a.character;if(!(0!==a.line||r&&"#"!==t.getText(new o.Range(0,0,0,1)))){const a=(0,c.getLastShebangs)(e);return Array.from(u(0,n,"Shebang",t,r,((e,t)=>{const n=a.findIndex((n=>n===`${t}${e.executable}`));return n>-1?n:1e5})))}if(1===a.line)return Array.from(u(0,n,"MagicComment",t,r))}}},"#")}(e,t,n)))};const o=i(n(398)),s=n(359),c=n(451);function*u(e,t,n,a,r,i){for(let e of t)if(e.type===n){const t=e.toCompletionItems(e,a,r,i);t&&(yield*t)}}},265:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){(new i.default).writeLine("Shebang Snippets extension is active"),e.subscriptions.concat((0,r.registerShebangCompletionProviders)(e)),e.subscriptions.push((0,o.registerHandleSnippetCompletionCommand)(e)),(0,s.showWhatsNewTeaserIfNeeded)(e)},t.deactivate=function(){};const r=n(687),i=a(n(35)),o=n(264),s=n(33)},264:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HANDLE_SNIPPET_COMPLETION_COMMAND=void 0,t.registerHandleSnippetCompletionCommand=function(e){return o.commands.registerCommand(t.HANDLE_SNIPPET_COMPLETION_COMMAND,(async(t,n,a)=>{"Shebang"===n.type&&("plaintext"===t.languageId&&n.language&&o.languages.setTextDocumentLanguage(t,n.language),(0,s.setLastShebang)(e,n,a))}))};const o=i(n(398)),s=n(451);t.HANDLE_SNIPPET_COMPLETION_COMMAND="shebang-snippets.handleSnippetCompletion"},359:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.languages=void 0;const a=n(268);t.languages={plaintext:Object.values(a.Shebangs),shellscript:[a.Shebangs.sh,a.Shebangs.bash,a.Shebangs.zsh,a.Shebangs.nu],fsharp:[a.Shebangs.fsharp],groovy:[a.Shebangs.groovy],javascript:[a.Shebangs.node],lua:[a.Shebangs.lua],perl:[a.Shebangs.perl],php:[a.Shebangs.php],powershell:[a.Shebangs.pwsh],python:[a.Shebangs.python,a.Shebangs.python3,a.MagicComments.encoding],ruby:[a.Shebangs.ruby,a.MagicComments.encoding]}},451:(e,t)=>{function n(e){return e.globalState.get("lastShebangs")??[]}Object.defineProperty(t,"__esModule",{value:!0}),t.getLastShebangs=n,t.setLastShebang=function(e,t,a){const r=n(e),i=`${a}${t.executable}`,o=[i,...r.filter((e=>e!==i))];e.globalState.update("lastShebangs",o)},t.getLastExecutedVersion=function(e){return e.globalState.get("lastExecutedVersion")},t.setLastExecutedVersion=function(e){e.globalState.update("lastExecutedVersion",e.extension.packageJSON.version??"")}},268:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MagicComments=t.Shebangs=void 0;const a=n(613);t.Shebangs={sh:(0,a.shebang)({executable:"sh",description:"Adds a shebang for 'sh' shell scripts",language:"shellscript"}),bash:(0,a.shebang)({executable:"bash",description:"Adds a shebang for 'bash' shell scripts",language:"shellscript"}),zsh:(0,a.shebang)({executable:"zsh",description:"Adds a shebang for 'zsh' shell scripts",language:"shellscript"}),nu:(0,a.shebang)({executable:"nu",description:"Adds a shebang for 'nu' shell scripts",language:"shellscript"}),expect:(0,a.shebang)({executable:"expect -f",description:"Adds a shebang for 'expect' scripts",language:"shellscript"}),fsharp:(0,a.shebang)({executable:"dotnet fsi",description:"Shebang for F# interpreter",language:"fsharp"}),groovy:(0,a.shebang)({executable:"groovy",description:"Adds a shebang for Groovy scripts",language:"groovy"}),node:(0,a.shebang)({executable:"node",description:"Adds a shebang for JavaScript executed with Node.js",language:"javascript"}),lua:(0,a.shebang)({executable:"lua",description:"Adds a shebang for Lua scripts",language:"lua"}),perl:(0,a.shebang)({executable:"perl",description:"Adds a shebang for Perl scripts",language:"perl"}),php:(0,a.shebang)({executable:"php",description:"Adds a shebang for PHP scripts",language:"php"}),pwsh:(0,a.shebang)({executable:"pwsh",description:"Adds a shebang for PowerShell Core scripts.",language:"powershell"}),python:(0,a.shebang)({executable:"python",description:"Adds a shebang for Python scripts",language:"python"}),python3:(0,a.shebang)({executable:"python3",description:"Adds a shebang for Python 3 scripts",language:"python"}),ruby:(0,a.shebang)({executable:"ruby",description:"Adds a shebang for Ruby scripts",language:"ruby"})},t.MagicComments={encoding:(0,a.magicComment)({description:"Adds magic comment for script encoding"})}},613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shebang=function(e){return{...e,type:"Shebang",toCompletionItems:a.createShebangCompletionItems}},t.magicComment=function(e){return{...e,type:"MagicComment",toCompletionItems:a.createMagicCommentCompletionItem}};const a=n(650)},33:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.showWhatsNewTeaserIfNeeded=async function(e){const t=e.extension.packageJSON.version;if(function(e){return e.extension.packageJSON.version!==(0,s.getLastExecutedVersion)(e)}(e)&&"1.0.0"===t){const n="Welcome to Shebang Snippets",a=void 0!==t?` ${t}`:"";"What's new?"===await o.window.showInformationMessage(`${n}${a}!`,"What's new?")&&o.env.openExternal(o.Uri.parse("https://github.com/Rpinski/vscode-shebang-snippets/blob/master/CHANGELOG.md")),(0,s.setLastExecutedVersion)(e)}};const o=i(n(398)),s=n(451)},398:e=>{e.exports=require("vscode")}},t={},n=function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}(265);module.exports=n})();